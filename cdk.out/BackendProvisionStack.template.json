{
 "Resources": {
  "WebAuth74fb05EE954B0": {
   "Type": "AWS::ApiGateway::Authorizer",
   "Properties": {
    "Name": "BackendProvisionStackWebAuth74fb0A220143E",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "Type": "COGNITO_USER_POOLS",
    "IdentitySource": "method.request.header.Authorization",
    "ProviderARNs": [
     {
      "Fn::Join": [
       "",
       [
        "arn:aws:cognito-idp:us-east-1:122702569249:userpool/",
        {
         "Fn::Join": [
          "",
          {
           "Fn::Split": [
            "\"",
            {
             "Fn::ImportValue": "A2iProvisionStack:ExportsOutputFnGetAttprovisionprovider74fb0D12FD8BCPayloadA976DCF4"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/WebAuth-74fb0/Resource"
   }
  },
  "tasktableA7E41D86": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "id",
      "KeyType": "HASH"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "id",
      "AttributeType": "S"
     }
    ],
    "ProvisionedThroughput": {
     "ReadCapacityUnits": 5,
     "WriteCapacityUnits": 5
    },
    "TableName": "cm-accuracy-eval-task-74fb0"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/task-table/Resource"
   }
  },
  "lambdamoderateimagerole5B910D9E": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-moderate-image-role/Resource"
   }
  },
  "lambdamoderateimageroleDefaultPolicy7D7E5C69": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "rekognition:DetectModerationLabels",
        "s3:*",
        "sagemaker:*FlowDefinition",
        "sagemaker:*HumanLoop*",
        "sagemaker:*HumanTaskUi*",
        "sagemaker:*Workforce*",
        "sagemaker:*Workteam*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "sagemaker.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "rekognition.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdamoderateimageroleDefaultPolicy7D7E5C69",
    "Roles": [
     {
      "Ref": "lambdamoderateimagerole5B910D9E"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-moderate-image-role/DefaultPolicy/Resource"
   }
  },
  "moderateimage5A277ACD": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "ed6571a1aab881e3e00b890882aa04e5364782778b6cfe6bbe81d2c7c892349d.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdamoderateimagerole5B910D9E",
      "Arn"
     ]
    },
    "FunctionName": "cm-accuracy-eval-task-moderate-image-74fb0",
    "Handler": "cm-accuracy-eval-task-moderate-image.lambda_handler",
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdamoderateimageroleDefaultPolicy7D7E5C69",
    "lambdamoderateimagerole5B910D9E"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/moderate-image/Resource",
    "aws:asset:path": "asset.ed6571a1aab881e3e00b890882aa04e5364782778b6cfe6bbe81d2c7c892349d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdaupdatestatusroleE15DD123": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-update-status-role/Resource"
   }
  },
  "lambdaupdatestatusroleDefaultPolicy42BDA881": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "dynamodb:*",
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdaupdatestatusroleDefaultPolicy42BDA881",
    "Roles": [
     {
      "Ref": "lambdaupdatestatusroleE15DD123"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-update-status-role/DefaultPolicy/Resource"
   }
  },
  "updatestatus051FB814": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "ddd1fdc9c85e7cfdbd699c01152f55f29e09a3f65070619437cea67862c10540.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdaupdatestatusroleE15DD123",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-update-status-74fb0",
    "Handler": "cm-accuracy-eval-task-update-status.lambda_handler",
    "Runtime": "python3.9"
   },
   "DependsOn": [
    "lambdaupdatestatusroleDefaultPolicy42BDA881",
    "lambdaupdatestatusroleE15DD123"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/update-status/Resource",
    "aws:asset:path": "asset.ddd1fdc9c85e7cfdbd699c01152f55f29e09a3f65070619437cea67862c10540",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "stepfunctionrole4109EEE1": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "states.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/step-function-role/Resource"
   }
  },
  "stepfunctionroleDefaultPolicyEA172617": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "rekognition:DetectModerationLabels",
        "s3:*",
        "sagemaker:*FlowDefinition",
        "sagemaker:*HumanLoop*",
        "sagemaker:*HumanTaskUi*",
        "sagemaker:*Workforce*",
        "sagemaker:*Workteam*",
        "states:*",
        "xray:GetSamplingRules",
        "xray:GetSamplingTargets",
        "xray:PutTelemetryRecords",
        "xray:PutTraceSegments"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "sagemaker.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "rekognition.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": "arn:aws:lambda:us-east-1:122702569249:*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "stepfunctionroleDefaultPolicyEA172617",
    "Roles": [
     {
      "Ref": "stepfunctionrole4109EEE1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/step-function-role/DefaultPolicy/Resource"
   }
  },
  "cmaccuracyevalimagesm74fb0": {
   "Type": "AWS::StepFunctions::StateMachine",
   "Properties": {
    "RoleArn": {
     "Fn::GetAtt": [
      "stepfunctionrole4109EEE1",
      "Arn"
     ]
    },
    "DefinitionString": "{\n  \"Comment\": \"A description of my state machine\",\n  \"StartAt\": \"Iterate Images in S3\",\n  \"States\": {\n    \"Iterate Images in S3\": {\n      \"Type\": \"Map\",\n      \"ItemProcessor\": {\n        \"ProcessorConfig\": {\n          \"Mode\": \"DISTRIBUTED\",\n          \"ExecutionType\": \"EXPRESS\"\n        },\n        \"StartAt\": \"Moderate Image\",\n        \"States\": {\n          \"Moderate Image\": {\n            \"Type\": \"Task\",\n            \"Resource\": \"arn:aws:states:::lambda:invoke\",\n            \"Parameters\": {\n              \"Payload.$\": \"$\",\n              \"FunctionName\": \"arn:aws:lambda:us-east-1:122702569249:function:cm-accuracy-eval-task-moderate-image-74fb0\"\n            },\n            \"Retry\": [\n              {\n                \"ErrorEquals\": [\n                  \"Lambda.ServiceException\",\n                  \"Lambda.AWSLambdaException\",\n                  \"Lambda.SdkClientException\",\n                  \"Lambda.TooManyRequestsException\"\n                ],\n                \"IntervalSeconds\": 2,\n                \"MaxAttempts\": 6,\n                \"BackoffRate\": 2\n              }\n            ],\n            \"End\": true,\n            \"ResultSelector\": {}\n          }\n        }\n      },\n      \"Label\": \"IterateImagesinS3\",\n      \"MaxConcurrency\": 5,\n      \"ItemReader\": {\n        \"Resource\": \"arn:aws:states:::s3:listObjectsV2\",\n        \"Parameters\": {\n          \"Bucket.$\": \"$.S3Bucket\",\n          \"Prefix.$\": \"$.S3Prefix\"\n        },\n        \"ReaderConfig\": {}\n      },\n      \"ItemSelector\": {\n        \"TaskId.$\": \"$.TaskId\",\n        \"S3Bucket.$\": \"$.S3Bucket\",\n        \"S3Key.$\": \"$$.Map.Item.Value.Key\",\n        \"DynamoDBTable.$\": \"$.DynamoDBTable\",\n        \"A2IWorkFlowArn.$\": \"$.A2IWorkFlowArn\"\n      },\n      \"Next\": \"Update moderation task status\",\n      \"ResultPath\": null\n    },\n    \"Update moderation task status\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:states:::lambda:invoke\",\n      \"OutputPath\": \"$.Payload\",\n      \"Parameters\": {\n        \"FunctionName\": \"arn:aws:lambda:us-east-1:122702569249:function:cm-accuracy-eval-task-update-status-74fb0\",\n        \"Payload\": {\n          \"id.$\": \"$.TaskId\",\n          \"status\": \"MODERATION_COMPLETED\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"Lambda.ServiceException\",\n            \"Lambda.AWSLambdaException\",\n            \"Lambda.SdkClientException\",\n            \"Lambda.TooManyRequestsException\"\n          ],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 6,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"End\": true\n    }\n  }\n}",
    "StateMachineName": "cm-accuracy-eval-image-sm-74fb0"
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-image-sm-74fb0"
   }
  },
  "cmaccuracyevalsrv74fb0FB55EBCA": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Name": "cm-accuracy-eval-srv-74fb0"
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0Deployment1D71E71707455fe09fecaf8a3a17e9b1b71f9862": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "Description": "Automatically created by the RestApi construct"
   },
   "DependsOn": [
    "cmaccuracyevalsrv74fb0v1reportimagesunflagOPTIONSE2D2E37B",
    "cmaccuracyevalsrv74fb0v1reportimagesunflagPOST305585E8",
    "cmaccuracyevalsrv74fb0v1reportimagesunflagF2741802",
    "cmaccuracyevalsrv74fb0v1reportimagesOPTIONS564D3FF0",
    "cmaccuracyevalsrv74fb0v1reportimagesPOST029D2A92",
    "cmaccuracyevalsrv74fb0v1reportimagesB52B9F38",
    "cmaccuracyevalsrv74fb0v1reportOPTIONSB74A42C4",
    "cmaccuracyevalsrv74fb0v1reportPOST2352C3FC",
    "cmaccuracyevalsrv74fb0v1report29F7D342",
    "cmaccuracyevalsrv74fb0v1reportF5374F54",
    "cmaccuracyevalsrv74fb0v151D8E3C6",
    "cmaccuracyevalsrv74fb0v1taskcreatetaskOPTIONS095B89A2",
    "cmaccuracyevalsrv74fb0v1taskcreatetaskPOST6F75C842",
    "cmaccuracyevalsrv74fb0v1taskcreatetaskF838B06E",
    "cmaccuracyevalsrv74fb0v1taskdeletetaskOPTIONS5DD4C0D1",
    "cmaccuracyevalsrv74fb0v1taskdeletetaskPOST7E34B5EE",
    "cmaccuracyevalsrv74fb0v1taskdeletetaskD49ACE65",
    "cmaccuracyevalsrv74fb0v1taskB7B0B000",
    "cmaccuracyevalsrv74fb0v1taskstartmoderationOPTIONS27C5C642",
    "cmaccuracyevalsrv74fb0v1taskstartmoderationPOST5C338558",
    "cmaccuracyevalsrv74fb0v1taskstartmoderationEB760563",
    "cmaccuracyevalsrv74fb0v1tasktaskwithcountOPTIONSBE3D1D2E",
    "cmaccuracyevalsrv74fb0v1tasktaskwithcountPOST59838808",
    "cmaccuracyevalsrv74fb0v1tasktaskwithcountF3B6D665",
    "cmaccuracyevalsrv74fb0v1tasktasksGET6384E623",
    "cmaccuracyevalsrv74fb0v1tasktasksOPTIONS2B927454",
    "cmaccuracyevalsrv74fb0v1tasktasks0DF9AD06"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Deployment/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "DeploymentId": {
     "Ref": "cmaccuracyevalsrv74fb0Deployment1D71E71707455fe09fecaf8a3a17e9b1b71f9862"
    },
    "StageName": "prod"
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/DeploymentStage.prod/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v151D8E3C6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "cmaccuracyevalsrv74fb0FB55EBCA",
      "RootResourceId"
     ]
    },
    "PathPart": "v1",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskB7B0B000": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v151D8E3C6"
    },
    "PathPart": "task",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktasks0DF9AD06": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskB7B0B000"
    },
    "PathPart": "tasks",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/tasks/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktasksOPTIONS2B927454": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1tasktasks0DF9AD06"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/tasks/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktasksGETApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DGETv1tasktasks6BC88BBC": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "gettasks8547A8E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/GET/v1/task/tasks"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/tasks/GET/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.GET..v1.task.tasks"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktasksGETApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DGETv1tasktasks29DFC0DB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "gettasks8547A8E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/GET/v1/task/tasks"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/tasks/GET/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.GET..v1.task.tasks"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktasksGET6384E623": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "GET",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1tasktasks0DF9AD06"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "gettasks8547A8E8",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/tasks/GET/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskcreatetaskF838B06E": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskB7B0B000"
    },
    "PathPart": "create-task",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/create-task/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskcreatetaskOPTIONS095B89A2": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskcreatetaskF838B06E"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/create-task/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskcreatetaskPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1taskcreatetask70028391": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "createtaskF577D8C1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/task/create-task"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/create-task/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.create-task"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskcreatetaskPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1taskcreatetask4A2E993F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "createtaskF577D8C1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/task/create-task"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/create-task/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.create-task"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskcreatetaskPOST6F75C842": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskcreatetaskF838B06E"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "createtaskF577D8C1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/create-task/POST/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktaskwithcountF3B6D665": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskB7B0B000"
    },
    "PathPart": "task-with-count",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/task-with-count/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktaskwithcountOPTIONSBE3D1D2E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1tasktaskwithcountF3B6D665"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/task-with-count/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktaskwithcountPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1tasktaskwithcount58D642BD": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "gettaskwithcount876195FD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/task/task-with-count"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/task-with-count/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.task-with-count"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktaskwithcountPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1tasktaskwithcountA27F46B2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "gettaskwithcount876195FD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/task/task-with-count"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/task-with-count/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.task-with-count"
   }
  },
  "cmaccuracyevalsrv74fb0v1tasktaskwithcountPOST59838808": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1tasktaskwithcountF3B6D665"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "gettaskwithcount876195FD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/task-with-count/POST/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskdeletetaskD49ACE65": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskB7B0B000"
    },
    "PathPart": "delete-task",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/delete-task/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskdeletetaskOPTIONS5DD4C0D1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskdeletetaskD49ACE65"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/delete-task/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskdeletetaskPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1taskdeletetaskB574C748": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "deletetaskA3876CBC",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/task/delete-task"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/delete-task/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.delete-task"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskdeletetaskPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1taskdeletetask0522E49D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "deletetaskA3876CBC",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/task/delete-task"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/delete-task/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.delete-task"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskdeletetaskPOST7E34B5EE": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskdeletetaskD49ACE65"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "deletetaskA3876CBC",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/delete-task/POST/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskstartmoderationEB760563": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskB7B0B000"
    },
    "PathPart": "start-moderation",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/start-moderation/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskstartmoderationOPTIONS27C5C642": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskstartmoderationEB760563"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/start-moderation/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskstartmoderationPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1taskstartmoderation1910CD0A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "startmoderation87BE6DD9",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/task/start-moderation"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/start-moderation/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.start-moderation"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskstartmoderationPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1taskstartmoderationDA9B8CFD": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "startmoderation87BE6DD9",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/task/start-moderation"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/start-moderation/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.task.start-moderation"
   }
  },
  "cmaccuracyevalsrv74fb0v1taskstartmoderationPOST5C338558": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1taskstartmoderationEB760563"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "startmoderation87BE6DD9",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/task/start-moderation/POST/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportF5374F54": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v151D8E3C6"
    },
    "PathPart": "report",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesB52B9F38": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportF5374F54"
    },
    "PathPart": "images",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesOPTIONS564D3FF0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportimagesB52B9F38"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1reportimages4FBBC94F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getimagesD0150139",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/report/images"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.report.images"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1reportimagesA34B2754": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getimagesD0150139",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/report/images"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.report.images"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesPOST029D2A92": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportimagesB52B9F38"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "getimagesD0150139",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images/POST/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesunflagF2741802": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportF5374F54"
    },
    "PathPart": "images-unflag",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images-unflag/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesunflagOPTIONSE2D2E37B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportimagesunflagF2741802"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images-unflag/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesunflagPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1reportimagesunflag8E00E6AE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getimagesunflag3E009CFF",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/report/images-unflag"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images-unflag/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.report.images-unflag"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesunflagPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1reportimagesunflagB45E20C3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getimagesunflag3E009CFF",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/report/images-unflag"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images-unflag/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.report.images-unflag"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportimagesunflagPOST305585E8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportimagesunflagF2741802"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "getimagesunflag3E009CFF",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/images-unflag/POST/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1report29F7D342": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "cmaccuracyevalsrv74fb0v1reportF5374F54"
    },
    "PathPart": "report",
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/report/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportOPTIONSB74A42C4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1report29F7D342"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/report/OPTIONS/Resource"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportPOSTApiPermissionBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1reportreport08BC9C74": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getreportC20EA912",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/",
       {
        "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
       },
       "/POST/v1/report/report"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/report/POST/ApiPermission.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.report.report"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportPOSTApiPermissionTestBackendProvisionStackcmaccuracyevalsrv74fb0941A354DPOSTv1reportreport1E3980E0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getreportC20EA912",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:122702569249:",
       {
        "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
       },
       "/test-invoke-stage/POST/v1/report/report"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/report/POST/ApiPermission.Test.BackendProvisionStackcmaccuracyevalsrv74fb0941A354D.POST..v1.report.report"
   }
  },
  "cmaccuracyevalsrv74fb0v1reportPOST2352C3FC": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "cmaccuracyevalsrv74fb0v1report29F7D342"
    },
    "RestApiId": {
     "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "WebAuth74fb05EE954B0"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Origin": "'*'"
       },
       "StatusCode": "200"
      }
     ],
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "getreportC20EA912",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/cm-accuracy-eval-srv-74fb0/Default/v1/report/report/POST/Resource"
   }
  },
  "awsclilayerCAD6ED55": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "d0aa2634125f78f2e1c216de6b8be97281f3fc22ec0570f0dd790bcecdee28ec.zip"
    },
    "CompatibleRuntimes": [
     "python3.9"
    ],
    "Description": "Base layer with AWS CLI"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/aws_cli_layer/Resource",
    "aws:asset:path": "asset.d0aa2634125f78f2e1c216de6b8be97281f3fc22ec0570f0dd790bcecdee28ec",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "lambdagetimagesrole4C968B8F": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-images-role/Resource"
   }
  },
  "lambdagetimagesroleDefaultPolicyC98253A8": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "s3:*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdagetimagesroleDefaultPolicyC98253A8",
    "Roles": [
     {
      "Ref": "lambdagetimagesrole4C968B8F"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-images-role/DefaultPolicy/Resource"
   }
  },
  "getimagesD0150139": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "cf162ce90b8c546c5d7ca798c96da5215138f7df6bbdb392fab96f4f8849e774.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdagetimagesrole4C968B8F",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_INDEX_NAME": "issue_flag-index",
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0",
      "EXPIRATION_IN_S": "300"
     }
    },
    "FunctionName": "cm-accuracy-eval-report-get-images-74fb0",
    "Handler": "cm-accuracy-eval-report-get-images.lambda_handler",
    "MemorySize": 10240,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdagetimagesroleDefaultPolicyC98253A8",
    "lambdagetimagesrole4C968B8F"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/get-images/Resource",
    "aws:asset:path": "asset.cf162ce90b8c546c5d7ca798c96da5215138f7df6bbdb392fab96f4f8849e774",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "getimagesunflag3E009CFF": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "ee91a44546cf2b6d64794baca16eff794e80e0124b2e3dcb3a5d7c877642aec8.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdagetimagesrole4C968B8F",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_INDEX_NAME": "issue_flag-index",
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0",
      "EXPIRATION_IN_S": "300"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-get-images-unflaged-74fb0",
    "Handler": "cm-accuracy-eval-task-get-images-unflaged.lambda_handler",
    "MemorySize": 10240,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdagetimagesroleDefaultPolicyC98253A8",
    "lambdagetimagesrole4C968B8F"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/get-images-unflag/Resource",
    "aws:asset:path": "asset.ee91a44546cf2b6d64794baca16eff794e80e0124b2e3dcb3a5d7c877642aec8",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdagetreportroleA9AEE0D9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-report-role/Resource"
   }
  },
  "lambdagetreportroleDefaultPolicyCD994859": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "dynamodb:*",
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdagetreportroleDefaultPolicyCD994859",
    "Roles": [
     {
      "Ref": "lambdagetreportroleA9AEE0D9"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-report-role/DefaultPolicy/Resource"
   }
  },
  "getreportC20EA912": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "4be8042abf5a0aefdf41adb7ad98ac80d9fedf84e96f6247054e77409ec6053c.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdagetreportroleA9AEE0D9",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_INDEX_NAME": "issue_flag-index",
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0"
     }
    },
    "FunctionName": "cm-accuracy-eval-report-get-report-74fb0",
    "Handler": "cm-accuracy-eval-report-get-report.lambda_handler",
    "MemorySize": 1280,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdagetreportroleDefaultPolicyCD994859",
    "lambdagetreportroleA9AEE0D9"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/get-report/Resource",
    "aws:asset:path": "asset.4be8042abf5a0aefdf41adb7ad98ac80d9fedf84e96f6247054e77409ec6053c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdagettasksrole701880C5": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-tasks-role/Resource"
   }
  },
  "lambdagettasksroleDefaultPolicy692EED3A": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "dynamodb:*",
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdagettasksroleDefaultPolicy692EED3A",
    "Roles": [
     {
      "Ref": "lambdagettasksrole701880C5"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-tasks-role/DefaultPolicy/Resource"
   }
  },
  "gettasks8547A8E8": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "459e13e3af18306a6647da222c5a715b88df12b27cc46a7dae83f0579fb13f16.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdagettasksrole701880C5",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-get-tasks-74fb0",
    "Handler": "cm-accuracy-eval-task-get-tasks.lambda_handler",
    "MemorySize": 128,
    "Runtime": "python3.9",
    "Timeout": 3
   },
   "DependsOn": [
    "lambdagettasksroleDefaultPolicy692EED3A",
    "lambdagettasksrole701880C5"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/get-tasks/Resource",
    "aws:asset:path": "asset.459e13e3af18306a6647da222c5a715b88df12b27cc46a7dae83f0579fb13f16",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdacreatetaskroleAC06549B": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-create-task-role/Resource"
   }
  },
  "lambdacreatetaskroleDefaultPolicy2EC36FF9": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "s3:*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdacreatetaskroleDefaultPolicy2EC36FF9",
    "Roles": [
     {
      "Ref": "lambdacreatetaskroleAC06549B"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-create-task-role/DefaultPolicy/Resource"
   }
  },
  "createtaskF577D8C1": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "d5a6db33ff361e179422ebeb6b787273b03783372dbd1ab96aeccb4231107a18.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdacreatetaskroleAC06549B",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_RESULT_TABLE_PREFIX": "cm-accuracy--74fb0",
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0",
      "S3_BUCKET": "cm-accuracy-eval-122702569249-us-east-1-74fb0",
      "S3_KEY_PREFIX": "input/"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-create-task-74fb0",
    "Handler": "cm-accuracy-eval-task-create-task.lambda_handler",
    "MemorySize": 128,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdacreatetaskroleDefaultPolicy2EC36FF9",
    "lambdacreatetaskroleAC06549B"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/create-task/Resource",
    "aws:asset:path": "asset.d5a6db33ff361e179422ebeb6b787273b03783372dbd1ab96aeccb4231107a18",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdagettaskwithcountrole84FDC269": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-task-with-count-role/Resource"
   }
  },
  "lambdagettaskwithcountroleDefaultPolicy5FA05FB7": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "s3:*",
        "sagemaker:*FlowDefinition",
        "sagemaker:*HumanLoop*",
        "sagemaker:*HumanTaskUi*",
        "sagemaker:*Workforce*",
        "sagemaker:*Workteam*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "sagemaker.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdagettaskwithcountroleDefaultPolicy5FA05FB7",
    "Roles": [
     {
      "Ref": "lambdagettaskwithcountrole84FDC269"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-get-task-with-count-role/DefaultPolicy/Resource"
   }
  },
  "gettaskwithcount876195FD": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "bd675b27cfab46b225de29e11d42870c94c54c073d72c81c99bbf97c7f16fbeb.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdagettaskwithcountrole84FDC269",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_INDEX_NAME": "issue_flag-index",
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0",
      "SUPPORTED_FILE_TYPES": ".jpg,.png,.jpeg"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-get-task-with-s3-object-count-74fb0",
    "Handler": "cm-accuracy-eval-task-get-task-with-s3-object-count.lambda_handler",
    "Layers": [
     {
      "Ref": "awsclilayerCAD6ED55"
     }
    ],
    "MemorySize": 2560,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdagettaskwithcountroleDefaultPolicy5FA05FB7",
    "lambdagettaskwithcountrole84FDC269"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/get-task-with-count/Resource",
    "aws:asset:path": "asset.bd675b27cfab46b225de29e11d42870c94c54c073d72c81c99bbf97c7f16fbeb",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdadeletetaskroleBFAEE627": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-delete-task-role/Resource"
   }
  },
  "lambdadeletetaskroleDefaultPolicyAE30BBF8": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "s3:*",
        "sagemaker:*FlowDefinition",
        "sagemaker:*HumanLoop*",
        "sagemaker:*HumanTaskUi*",
        "sagemaker:*Workforce*",
        "sagemaker:*Workteam*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "sagemaker.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdadeletetaskroleDefaultPolicyAE30BBF8",
    "Roles": [
     {
      "Ref": "lambdadeletetaskroleBFAEE627"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-delete-task-role/DefaultPolicy/Resource"
   }
  },
  "deletetaskA3876CBC": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "d7008b6560617d106a8751e6067dd0f859c12ad65a9a79fcf4ac789fe5a3f6b8.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdadeletetaskroleBFAEE627",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-delete-task-74fb0",
    "Handler": "cm-accuracy-eval-task-delete-task.lambda_handler",
    "Layers": [
     {
      "Ref": "awsclilayerCAD6ED55"
     }
    ],
    "MemorySize": 2560,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdadeletetaskroleDefaultPolicyAE30BBF8",
    "lambdadeletetaskroleBFAEE627"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/delete-task/Resource",
    "aws:asset:path": "asset.d7008b6560617d106a8751e6067dd0f859c12ad65a9a79fcf4ac789fe5a3f6b8",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "lambdastartmoderationrole388750D5": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": [
         "lambda.amazonaws.com",
         "sagemaker.amazonaws.com"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-start-moderation-role/Resource"
   }
  },
  "lambdastartmoderationroleDefaultPolicyD8E18F86": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:*",
        "lambda:GetFunctionConfiguration",
        "rekognition:DetectModerationLabels",
        "s3:*",
        "sagemaker:*FlowDefinition",
        "sagemaker:*HumanLoop*",
        "sagemaker:*HumanTaskUi*",
        "sagemaker:*Workforce*",
        "sagemaker:*Workteam*",
        "states:*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "sagemaker.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringEquals": {
         "iam:PassedToService": "rekognition.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:122702569249:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "lambdastartmoderationroleDefaultPolicyD8E18F86",
    "Roles": [
     {
      "Ref": "lambdastartmoderationrole388750D5"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/lambda-start-moderation-role/DefaultPolicy/Resource"
   }
  },
  "startmoderation87BE6DD9": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-122702569249-us-east-1",
     "S3Key": "c30058627668fb3c892e852f9178aa60c685ab9fba87e589d727dca8009e364c.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "lambdastartmoderationrole388750D5",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DYNAMODB_TASK_TABLE": "cm-accuracy-eval-task-74fb0",
      "DYNAMODB_RESULT_TABLE_PREFIX": "cm-accuracy--74fb0",
      "WORK_FLOW_NAME_PREFIX": "cm-accuracy--74fb0",
      "HUMAN_TASK_UI_NAME": "arn:aws:sagemaker:us-east-1:122702569249:human-task-ui/cm-accuracy-eval-image-review-ui-template-74fb0",
      "STEP_FUNCTION_STATE_MACHINE_ARN": "arn:aws:states:us-east-1:122702569249:stateMachine:cm-accuracy-eval-image-sm-74fb0"
     }
    },
    "FunctionName": "cm-accuracy-eval-task-start-moderation-74fb0",
    "Handler": "cm-accuracy-eval-task-start-moderation.lambda_handler",
    "MemorySize": 128,
    "Runtime": "python3.9",
    "Timeout": 30
   },
   "DependsOn": [
    "lambdastartmoderationroleDefaultPolicyD8E18F86",
    "lambdastartmoderationrole388750D5"
   ],
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/start-moderation/Resource",
    "aws:asset:path": "asset.c30058627668fb3c892e852f9178aa60c685ab9fba87e589d727dca8009e364c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/01Qy27CMBD8Fu7GFUWiZ6DqCdSIPq5ocZawJbEj71oojfLvtWNQc9qZWXvG42e9WujFDG48N+V1XtNJ9x8C5qoOyC54gyrujj20VIHgDTrdb11lSdwXoy+cq3kd5OI8/aJX27OdsGgh65aS+oCv2Naua9BKUicshlaYtAwe6Rvgf3I3yniPMadMUkaDKjsLjStjg0841ePpEQyKoNH9wWVtnIWryXSJZjSoGppTCbp/C9YIOZt2U1ygb4g5sR106L/R83015YPi5RGYUViv04hcb4K5ooxdWLA9321Z576CezAXsvGl45X0BWSrZP0epA0yLT6ooot97dNSv+jFavbDRHMfrFCD+pDnH2PQdInWAQAA"
   },
   "Metadata": {
    "aws:cdk:path": "BackendProvisionStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "cmaccuracyevalsrv74fb0EndpointA0D752C8": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
      },
      "/"
     ]
    ]
   }
  },
  "ApiGwBaseUrl": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
      },
      "/"
     ]
    ]
   },
   "Export": {
    "Name": "ApiGwBaseUrl"
   }
  },
  "ExportsOutputRefcmaccuracyevalsrv74fb0FB55EBCAE60B324C": {
   "Value": {
    "Ref": "cmaccuracyevalsrv74fb0FB55EBCA"
   },
   "Export": {
    "Name": "BackendProvisionStack:ExportsOutputRefcmaccuracyevalsrv74fb0FB55EBCAE60B324C"
   }
  },
  "ExportsOutputRefcmaccuracyevalsrv74fb0DeploymentStageprod48AB4067027823DB": {
   "Value": {
    "Ref": "cmaccuracyevalsrv74fb0DeploymentStageprod48AB4067"
   },
   "Export": {
    "Name": "BackendProvisionStack:ExportsOutputRefcmaccuracyevalsrv74fb0DeploymentStageprod48AB4067027823DB"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}