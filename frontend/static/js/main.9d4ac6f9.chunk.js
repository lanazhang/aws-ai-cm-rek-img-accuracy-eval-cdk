(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e,t,a){e.exports=a.p+"static/media/aws_logo.9d944151.png"},281:function(e,t,a){e.exports=a.p+"static/media/flow_diagram.7b6ae0c5.png"},310:function(e,t,a){e.exports=a(597)},317:function(e,t,a){},597:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(270),l=a.n(i),o=(a(317),a(5)),c=a(272),u=a(292),s=a(621),d=(a(318),a(608)),m=a(609),f=a(610),h=a(611),p=a(630),g=a(628),v=a(624),y=(a(40),{navigation:"Side navigation",navigationToggle:"Open side navigation",navigationClose:"Close side navigation",notifications:"Notifications",tools:"Help panel",toolsToggle:"Open help panel",toolsClose:"Close help panel"});a(104);var b={text:"Rekognition Accuracy Evaluation",href:"#/"},E=[{type:"section",text:"Reports and analytics",items:[{type:"link",text:"Distributions",href:"#/distributions"},{type:"link",text:"Cache statistics",href:"#/cache"},{type:"link",text:"Monitoring and alarms",href:"#/monitoring"},{type:"link",text:"Popular objects",href:"#/popular"},{type:"link",text:"Top referrers",href:"#/referrers"},{type:"link",text:"Usage",href:"#/usage"},{type:"link",text:"Viewers",href:"#/viewers"}]},{type:"section",text:"Private content",items:[{type:"link",text:"How-to guide",href:"#/howto"},{type:"link",text:"Origin access identity",href:"#/origin"}]}];var O=function(e){e.preventDefault()};function w(e){var t=e.activeHref,a=e.header,n=void 0===a?b:a,i=e.items,l=void 0===i?E:i,o=e.onFollowHandler,c=void 0===o?O:o;return r.a.createElement(p.a,{items:l,header:n,activeHref:t,onFollow:c})}Object(n.forwardRef)(function(e,t){return r.a.createElement(v.a,Object.assign({ref:t},e,{headerSelector:"#header",ariaLabels:y,onNavigationChange:function(t){e.onNavigationChange&&e.onNavigationChange(t)},onToolsChange:function(t){e.onToolsChange&&e.onToolsChange(t)}}))});var x=a(107),k=a(625),S=a(613),L=a(638),_=a(634),j=a(633),T=a(632),A=a(639),C=a(635),I=a(614),P=a(615),D=a(627),N=a(623);function R(){R=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,a){return e[t]=a}}function u(e,t,a,r){var i=t&&t.prototype instanceof m?t:m,l=Object.create(i.prototype),o=new S(r||[]);return n(l,"_invoke",{value:O(e,a,o)}),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=u;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(L([])));v&&v!==t&&a.call(v,i)&&(p=v);var y=h.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;n(this,"_invoke",{value:function(n,i){function l(){return new t(function(r,l){!function n(r,i,l,o){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,l,o)},function(e){n("throw",e,l,o)}):t.resolve(d).then(function(e){u.value=e,l(u)},function(e){return n("throw",e,l,o)})}o(c.arg)}(n,i,r,l)})}return r=r?r.then(l,l):l()}})}function O(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return _()}for(a.method=r,a.arg=i;;){var l=a.delegate;if(l){var o=w(l,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=h,n(y,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var l=new E(u(t,a,n,r),i);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},b(y),c(y,o,"Generator"),c(y,i,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var F={"-- All --":[],"Explicit Nudity":["-- All --","Nudity","Graphic Male Nudity","Graphic Female Nudity","Sexual Activity","Illustrated Explicit Nudity","Adult Toys"],Suggestive:["-- All --","Female Swimwear Or Underwear","Male Swimwear Or Underwear","Partial Nudity","Barechested Male","Revealing Clothes","Sexual Situations"],Violence:["-- All --","Graphic Violence Or Gore","Physical Violence","Weapon Violence","Weapons","Self Injury"],"Visually Disturbing":["-- All --","Emaciated Bodies","Corpses","Hanging","Air Crash","Explosions And Blasts"],"Rude Gestures":["-- All --","Middle Finger"],Drugs:["-- All --","Drug Products","Drug Use","Pills","Drug Paraphernalia"],Tobacco:["-- All --","Tobacco Products","Smoking"],Alcohol:["-- All --","Drinking","Alcoholic Beverages"],Gambling:["-- All --","Gambling"],"Hate Symbols":["-- All --","Nazi Party","White Supremacy","Extremist"]},G=[{id:"-",text:"-- All --"},{id:"true-positive",text:"True Positive"},{id:"false-positive",text:"False Positive"}],M=[{id:"50",text:"50%"},{id:"60",text:"60%"},{id:"70",text:"70%"},{id:"80",text:"80%"},{id:"90",text:"90%"}];function U(e){return z.apply(this,arguments)}function z(){return(z=Object(x.a)(R().mark(function e(t){var a,n,r,i,l=arguments;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"post",n=l.length>2&&void 0!==l[2]?l[2]:null,r="CmAccuracyEvalSrv",e.t0="Bearer ",e.next=6,D.a.currentSession();case 6:e.t1=e.sent.getIdToken().getJwtToken(),e.t2=e.t0.concat.call(e.t0,e.t1),e.t3={Authorization:e.t2},i={headers:e.t3},null!==n&&(i.body=n),e.t4=a,e.next="get"===e.t4?14:"post"===e.t4?17:"put"===e.t4?20:23;break;case 14:return e.next=16,N.a.get(r,t,i);case 16:return e.abrupt("return",e.sent);case 17:return e.next=19,N.a.post(r,t,i);case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,N.a.put(r,t,i);case 22:return e.abrupt("return",e.sent);case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(){W=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,a){return e[t]=a}}function u(e,t,a,r){var i=t&&t.prototype instanceof m?t:m,l=Object.create(i.prototype),o=new S(r||[]);return n(l,"_invoke",{value:O(e,a,o)}),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=u;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(L([])));v&&v!==t&&a.call(v,i)&&(p=v);var y=h.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;n(this,"_invoke",{value:function(n,i){function l(){return new t(function(r,l){!function n(r,i,l,o){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,l,o)},function(e){n("throw",e,l,o)}):t.resolve(d).then(function(e){u.value=e,l(u)},function(e){return n("throw",e,l,o)})}o(c.arg)}(n,i,r,l)})}return r=r?r.then(l,l):l()}})}function O(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return _()}for(a.method=r,a.arg=i;;){var l=a.delegate;if(l){var o=w(l,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=h,n(y,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var l=new E(u(t,a,n,r),i);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},b(y),c(y,o,"Generator"),c(y,i,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}function B(e){var t=e.selectedTask,a=e.onImageClick,i=e.onReportClick,l=e.onBack,s=Object(n.useState)(!1),p=Object(o.a)(s,2),v=p[0],y=p[1],b=Object(n.useState)(t),E=Object(o.a)(b,2),O=E[0],w=E[1],k=Object(n.useState)(null),L=Object(o.a)(k,2),_=L[0],D=L[1],N=Object(n.useState)(!0),R=Object(o.a)(N,2),F=R[0],G=R[1],M=Object(n.useState)(!1),z=Object(o.a)(M,2),B=z[0],H=z[1],V=Object(n.useState)(!1),Y=Object(o.a)(V,2),J=Y[0],K=Y[1],q=Object(n.useState)(!1),Q=Object(o.a)(q,2),X=Q[0],Z=Q[1],$=Object(n.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(o.a)(ne,2),ie=re[0],le=re[1],oe=Object(n.useState)([]),ce=Object(o.a)(oe,2),ue=ce[0],se=ce[1],de=Object(n.useState)(!1),me=Object(o.a)(de,2),fe=me[0],he=me[1],pe=Object(n.useState)(null),ge=Object(o.a)(pe,2);ge[0],ge[1];function ve(e){if(null!==e&&null!==e.status)switch(e.status){case"CREATED":G(!0),H(!0),K(!1),Z(!1),ae(!1),le(!1),null===e.total_files||0==e.total_files?se(["TO_S3"]):se(["START_MOD"]);break;case"MODERATING":G(!0),H(!1),K(!0),ae(!1),Z(!0),le(!1),se(["MOD_PROGRESS"]);break;case"MODERATION_COMPLETED":G(!0),H(!1),K(!0),Z(!1),ae(!0),le(!0),se(["GO_TO_A2I","REVIEW_IMAGES"]);break;case"HUMAN_REVIEWING":G(!0),H(!1),K(!0),ae(!0),Z(!1),le(!0),se(["GO_TO_A2I","CHECK_REPORT","REVIEW_PROGRESS","REVIEW_IMAGES"]);break;case"COMPLETED":G(!0),H(!0),K(!0),ae(!0),Z(!0),le(!0),se(["CHECK_REPORT","REVIEW_IMAGES"])}}var ye=function(e){he(!0)},be=function(e){he(!1)},Ee=function(e){he(!1),v||(y(!0),U("/task/start-moderation","post",{id:O.id}).then(function(e){var t=JSON.parse(e.body);w(t),Oe()}).catch(function(e){y(!1),console.log(e.message)}))};function Oe(){return we.apply(this,arguments)}function we(){return(we=Object(x.a)(W().mark(function e(){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D("LOADING"),y(!1),U("/task/task-with-count","post",{id:O.id}).then(function(e){var t=JSON.parse(e.body);w(t),ve(t),D("LOADED")}).catch(function(e){console.log(e.message),D("LOADED")}),e.abrupt("return");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){null===_&&Oe()});var xe=function(){return r.a.createElement("div",null,r.a.createElement(T.a,{columns:4,variant:"text-grid"},r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Description"),r.a.createElement("div",null,null!==O?O.description:"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"S3 URI"),r.a.createElement("div",null,null!==O&&null!==O.s3_bucket?"s3://".concat(O.s3_bucket,"/").concat(O.s3_key_prefix):"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Numbers of images uploaded"),r.a.createElement("div",null,null!==O&&null!==O.total_files&&parseInt(O.total_files)>0?parseInt(O.total_files).toLocaleString("en-US"):0)),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Created"),r.a.createElement("div",null,null!==O?O.created_by:""),r.a.createElement("div",null,null!==O?O.created_ts:""))))},ke=function(){return r.a.createElement("div",null,r.a.createElement(T.a,{columns:3,variant:"text-grid"},r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Total uploaded images"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&null!==O.total_files?parseInt(O.total_files).toLocaleString("en-US"):"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Total number of images processed by Rekognition"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&void 0!==O.processed?O.processed.toLocaleString("en-US"):"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Total number of images flagged by Rekognition as inappropriate"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&void 0!==O.labeled?O.labeled.toLocaleString("en-US"):""))))},Se=function(){return r.a.createElement("div",null,r.a.createElement(T.a,{columns:4,variant:"text-grid"},r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Total number of images flagged by Rekognition as inappropriate"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&void 0!==O.labeled?O.labeled.toLocaleString("en-US"):"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Images reviewed by huamn"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&void 0!==O.reviewed?O.reviewed.toLocaleString("en-US"):"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Numbers of False Positive"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&void 0!==O.false_positive?O.false_positive.toLocaleString("en-US"):"")),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Numbers of True Positive"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==O&&void 0!==O.true_positive?O.true_positive.toLocaleString("en-US"):""))))},Le=function(){return r.a.createElement("div",null,ue.includes("START_MOD")?r.a.createElement(m.a,{margin:"l",float:"right"},r.a.createElement(h.a,{variant:"primary",onClick:ye,disabled:v},"Start moderation"),r.a.createElement(j.a,{onDismiss:be,visible:fe,footer:r.a.createElement(m.a,{float:"right"},r.a.createElement(f.a,{direction:"horizontal",size:"xs"},r.a.createElement(h.a,{variant:"link",onClick:be},"Cancel"),r.a.createElement(h.a,{variant:"primary",onClick:Ee},"Confirm start moderation"))),header:"Start moderating images"},"Amazon Rekognition will moderate the ",r.a.createElement("b",null,O.total_files)," images in the S3 bucket: ",r.a.createElement("b",null,"s3://",O.s3_bucket,"/",O.s3_key_prefix)," ",r.a.createElement("br",null),"Do not add new images to the folder after the moderation process starts.")):r.a.createElement("div",null),ue.includes("TO_S3")?r.a.createElement(u.a,null,r.a.createElement("b",null,"You have initiated an accuracy evaluation task successfully!"),r.a.createElement("br",null),"As for the next step, you will need to copy the images to the S3 bucket folder: ",r.a.createElement("b",null,"s3://",O.s3_bucket,"/",O.s3_key_prefix)," provisioned for this task. Then come back to continue the process.",r.a.createElement("br",null),"We recommend providing more than 5,000 images for better accuracy evaluation. Fewer images will provide less data points and potentially produce a skewed result.",r.a.createElement("br",null),"If your sample images are already in an S3 bucket, use the below bash command to bulk copy images from the source S3 bucket to the one set up for this evaluation task. (Ensure your IAM user/role has proper access to both buckets.)",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"custom-wrapping"},r.a.createElement(m.a,{margin:{right:"xxs"},display:"inline-block"},r.a.createElement(A.a,{size:"small",position:"top",triggerType:"custom",dismissButton:!1,content:r.a.createElement(S.a,{type:"success"},"Command copied")},r.a.createElement(h.a,{variant:"inline-icon",iconName:"copy",onClick:function(){navigator.clipboard.writeText("aws s3 sync s3://YOUR_SOURCE_S3_BUCKET/YOUR_FOLDER/ s3://".concat(O.s3_bucket,"/").concat(O.s3_key_prefix))}}))),r.a.createElement("b",null,"aws s3 sync s3://YOUR_SOURCE_S3_BUCKET/YOUR_FOLDER/ s3://",O.s3_bucket,"/",O.s3_key_prefix),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.a,{isExternal:!0,externalIconAriaLabel:"Opens in a new tab",href:"https://docs.aws.amazon.com/cloudshell/latest/userguide/multiple-files-upload-download.html"},"Refer to the document for more instructions if your images are outside S3."))):r.a.createElement("div",null),ue.includes("GO_TO_A2I")?r.a.createElement(u.a,null,"Rekognition moderated all the images in the S3 bucket folder. Now, you can log in to the Augmented AI (A2I) portal to review the moderation result. Choose job ",r.a.createElement("b",null,O.a2i_job_title),' from the list and click "Start working" to review the moderation results.',r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.a,{variant:"primary",external:"true",href:null!==O.a2i_url?O.a2i_url:""},"Open A2I human review portal")):r.a.createElement("div",null),ue.includes("MOD_PROGRESS")?r.a.createElement(g.a,{items:[{content:r.a.createElement(C.a,{variant:"flash",value:100*O.processed/O.total_files,label:"Rekognition image moderation progress. Model will flag everything above 50%. You can change that confidence score later on the results page."})}]}):r.a.createElement("div",null),ue.includes("REVIEW_PROGRESS")?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(g.a,{items:[{content:r.a.createElement(C.a,{variant:"flash",value:100*O.reviewed/O.labeled,label:"Huamn review (using A2I) progress"})}]})):r.a.createElement("div",null))};return r.a.createElement("div",null,r.a.createElement(c.a,{actions:r.a.createElement(m.a,{float:"right"},r.a.createElement(f.a,{direction:"horizontal",size:"xs"},"LOADING"===_?r.a.createElement(I.a,null):"COMPLETED"!==O.status?r.a.createElement("div",null,"Refresh to update task status - ",r.a.createElement(h.a,{variant:"normal",iconName:"refresh",onClick:function(e){Oe()}})):r.a.createElement("div",null),ue.includes("CHECK_REPORT")?r.a.createElement(h.a,{variant:"primary",onClick:function(e){e.task=O,i(e)}},"Review report"):r.a.createElement("div",null),ue.includes("REVIEW_IMAGES")?r.a.createElement(h.a,{variant:"primary",onClick:function(e){e.task=O,a(e)}},"Check images"):r.a.createElement("div",null),r.a.createElement(h.a,{variant:"normal",onClick:l},"Back to list")))},"Rekognition image accuracy evalution task"),r.a.createElement("br",null),F?r.a.createElement(P.a,{defaultExpanded:B,variant:"container",headerText:O.name,headerDescription:r.a.createElement(S.a,{type:"COMPLETED"===O.status?"success":"FAILED"===O.status?"error":"info"},O.status)},r.a.createElement(xe,null)):r.a.createElement("div",null),r.a.createElement("br",null),J?r.a.createElement(P.a,{defaultExpanded:X,variant:"container",headerText:"Moderation summary",headerDescription:O.labeled+" / "+O.total_files+" images flagged by Rekognition image moderation API"},r.a.createElement(ke,null)):r.a.createElement("div",null),r.a.createElement("br",null),te?r.a.createElement(P.a,{defaultExpanded:ie,variant:"container",headerText:"Human review summary"},r.a.createElement(Se,null)):r.a.createElement("div",null),r.a.createElement("br",null),ue.length>0?r.a.createElement(Le,null):r.a.createElement("div",null))}var H=a(616),V=a(617),Y=a(640);function J(e){var t=e.user,a=e.onSubmit,i=e.onDismiss,l=Object(n.useState)(t.username),c=Object(o.a)(l,2),s=c[0],d=(c[1],Object(n.useState)("")),p=Object(o.a)(d,2),g=p[0],v=p[1],y=Object(n.useState)(""),b=Object(o.a)(y,2),E=b[0],O=b[1],w=Object(n.useState)(null),x=Object(o.a)(w,2),k=x[0],S=x[1],L=Object(n.useState)(!1),_=Object(o.a)(L,2),T=_[0],A=_[1],C=Object(n.useState)(!1),I=Object(o.a)(C,2),P=I[0],D=I[1],N=function(e){e.preventDefault(),A(!0),0==g.length||g.length>50?S({status:"error",body:"The task name is required and should be at most 50 characters.",header:"Invalid input"}):E.length>200?S({status:"error",body:"The description should be at most 200 characters.",header:"Invalid input"}):g.length>0&&U("/task/create-task","post",{task_name:g,task_description:E,created_by:s}).then(function(t){var n=JSON.parse(t.body);console.log(n),D(!0),e.task=n,a(e)}).catch(function(e){console.log(e.message),S({status:"error",body:e.message,header:"Failed to create the new task"})})};return r.a.createElement(j.a,{visible:!0,onSubmit:N,onDismiss:i,header:"Step 1: initiate an image accuracy evaluation task",closeAriaLabel:"Close dialog",footer:r.a.createElement(m.a,{float:"right"},r.a.createElement(f.a,{direction:"horizontal",size:"xs"},r.a.createElement(h.a,{variant:"primary",formAction:"true",onClick:N,disabled:P},"Create task"),r.a.createElement(h.a,{variant:"normal",onClick:i},P?"Close":"Cancel")))},null!==k?r.a.createElement(u.a,{statusIconAriaLabel:k.status,header:k.header},k.body):r.a.createElement("div",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:N},r.a.createElement(f.a,{direction:"vertical",size:"l"},r.a.createElement(H.a,{label:"Task name"},r.a.createElement(V.a,{value:g,onChange:function(e){v(e.detail.value)},ariaRequired:!0,invalid:T&&(0===g.trim().length||g.length>50)})),r.a.createElement(H.a,{label:"Description"},r.a.createElement(Y.a,{value:E,onChange:function(e){O(e.detail.value)},invalid:T&&null!==E&&E.length>200})))))}var K=a(64),q=a(618),Q=a(619),X=a(626),Z=a(622);function $(e){var t=e.selectedTask,a=e.onBack,i=Object(n.useState)(t),l=Object(o.a)(i,2),u=l[0],s=(l[1],Object(n.useState)(null)),d=Object(o.a)(s,2),f=d[0],p=d[1],g=Object(n.useState)(null),v=Object(o.a)(g,2),y=v[0],b=v[1],E=Object(n.useState)(null),O=Object(o.a)(E,2),w=O[0],x=O[1],k=Object(n.useState)(null),L=Object(o.a)(k,2),_=L[0],j=L[1],A=Object(n.useState)(null),C=Object(o.a)(A,2),P=C[0],D=C[1],N=Object(n.useState)(null),R=Object(o.a)(N,2),z=R[0],W=R[1],B=Object(n.useState)(null),H=Object(o.a)(B,2),V=H[0],Y=H[1];Object(n.useEffect)(function(){null===y&&null!==u&&(b("LOADING"),U("/report/report","post",{id:u.id,top_category:w,sub_category:_,type:P,confidence_threshold:z}).then(function(e){var t=JSON.parse(e.body);p(t),b("LOADED")}).catch(function(e){console.log(e.message),b("LOADED")}))});var J=function(e){if(e.detail.id!=w){"-- All --"==e.detail.id?x(null):x(e.detail.id);var t=F[e.detail.id].map(function(e){return{id:e,text:e}});Y(t),b(null)}},$=function(e){console.log(e),e.detail.id!=w&&("-- All --"==e.detail.id?j(null):j(e.detail.id),b(null))},ee=function(e){e.detail.id!=P&&("-"===e.detail.id?D(null):D(e.detail.id),b(null))},te=function(e){parseInt(e.detail.id)!=z&&(W(parseInt(e.detail.id)),b(null))},ae=function(e){x(null),j(null),W(null),D(null),b(null)},ne=function(){return r.a.createElement("div",null,r.a.createElement(T.a,{columns:"1",variant:"text-grid"},r.a.createElement(m.a,{float:"right"},"LOADING"===y?r.a.createElement(I.a,null):r.a.createElement("div",null),"\xa0",r.a.createElement(h.a,{variant:"normal",onClick:ae,disabled:null===w&&null===_&&null===P&&null===z},"Reset"),"\xa0",r.a.createElement(h.a,{variant:"primary",onClick:a},"Back to list"))),r.a.createElement(T.a,{columns:"1",variant:"text-grid"},r.a.createElement(q.a,{float:"left"},r.a.createElement(Q.a,{onItemClick:J,items:Object.keys(F).map(function(e){return{id:e,text:e}}),expandableGroups:!0},null===w?"Filter top level category":w),"\xa0",r.a.createElement(Q.a,{onItemClick:$,items:null!==V?V:[],expandableGroups:!0},null===_?"Filter secondary level category":_),"\xa0",r.a.createElement(Q.a,{onItemClick:ee,items:G,expandableGroups:!0},null===P?"Filter by review result":G.find(function(e){return e.id==P}).text),"\xa0",r.a.createElement(Q.a,{onItemClick:te,items:M,expandableGroups:!0},null===z?"Select confidence threshold":M.find(function(e){return e.id==z}).text))))},re=function(){return r.a.createElement(q.a,{header:r.a.createElement(c.a,{variant:"h2",description:u.name+" - "+u.description},"Moderation accuracy overview \xa0\xa0",r.a.createElement(S.a,{type:"COMPLETED"===u.status?"success":"FAILED"===u.status?"error":"info"},u.status))},r.a.createElement(T.a,{columns:"3",variant:"text-grid"},r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Total number of images"),r.a.createElement(m.a,{variant:"awsui-value-large"},parseInt(u.total_files).toLocaleString("en-US"))),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Images flagged by Rekognition as inappropriate"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==f?f.labeled.toLocaleString("en-US"):0)),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Rekognition label ratio"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==f?(100*f.labeled/parseInt(u.total_files)).toFixed(2)+"%":0))),r.a.createElement(T.a,{columns:"3",variant:"text-grid"},r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"Human reviewed images"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==f?f.reviewed.toLocaleString("en-US"):0)),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"False positive images"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==f?f.fp.toLocaleString("en-US"):0)),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"awsui-key-label"},"True positive images"),r.a.createElement(m.a,{variant:"awsui-value-large"},null!==f?f.tp.toLocaleString("en-US"):0))))},ie=function(){return r.a.createElement(q.a,{header:r.a.createElement(c.a,{variant:"h2",description:"False Positive vs. True Positive"},"Human review result")},null!==f&&null!==f.by_type?r.a.createElement(X.a,{hideFilter:"true",variant:"donut",hideLegend:"true",size:"medium",data:f.by_type,detailPopoverContent:function(e,t){return[{key:"Number of images",value:e.value},{key:"Percentage",value:"".concat((e.value/t*100).toFixed(0),"%")}]},segmentDescription:function(e,t){return"".concat(e.value," images, ").concat((e.value/t*100).toFixed(0),"%")},i18nStrings:{detailsValue:"Value",detailsPercentage:"Percentage",filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"pie chart",segmentAriaRoleDescription:"segment"},ariaDescription:"Pie chart showing number of images by Rekognition moderation top category.",ariaLabel:"Pie chart",errorText:"Error loading data.",loadingText:"Loading chart",recoveryText:"Retry",empty:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No data available"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no data available"))}):r.a.createElement("div",null))},le=function(){return r.a.createElement(q.a,{header:r.a.createElement(c.a,{variant:"h2",description:"Number of images by moderation top level category"},"Distribution by moderation top level category")},null!==f&&null!==f.by_top_category?r.a.createElement(X.a,{hideFilter:"true",variant:"donut",hideLegend:"true",size:"medium",data:f.by_top_category,detailPopoverContent:function(e,t){return[{key:"Number of images",value:e.value},{key:"Percentage",value:"".concat((e.value/t*100).toFixed(0),"%")}]},segmentDescription:function(e,t){return"".concat(e.value," images, ").concat((e.value/t*100).toFixed(0),"%")},i18nStrings:{detailsValue:"Value",detailsPercentage:"Percentage",filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"pie chart",segmentAriaRoleDescription:"segment"},ariaDescription:"Pie chart showing number of images by Rekognition moderation top category.",ariaLabel:"Pie chart",errorText:"Error loading data.",loadingText:"Loading chart",recoveryText:"Retry",empty:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No data available"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no data available"))}):r.a.createElement("div",null))},oe=function(){return r.a.createElement(q.a,{header:r.a.createElement(c.a,{variant:"h2",description:"Number of images by moderation secondary level category"},"Distribution by moderation secondary level category")},null!==f&&null!==f.by_sub_category_type?r.a.createElement(Z.a,{detailPopoverSize:"large",series:[{title:"True Positive",type:"bar",data:f.by_sub_category_type["true-positive"].map(function(e,t){return{x:e.title,y:e.value}}),valueFormatter:function(e){return e.toLocaleString("en-US")}},{title:"False Positive",type:"bar",data:f.by_sub_category_type["false-positive"].map(function(e,t){return{x:e.title,y:e.value}}),valueFormatter:function(e){return e.toLocaleString("en-US")}}],xDomain:f.by_sub_category.map(function(e){return e.title}),yDomain:[0,Math.max.apply(Math,Object(K.a)(f.by_sub_category_type["true-positive"].map(function(e){return e.value}).concat(f.by_sub_category_type["false-positive"].map(function(e){return e.value}))))],i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"line chart",xTickFormatter:function(e){return e.toLocaleString("en-US")}},ariaLabel:"Single data series line chart",errorText:"Error loading data.",height:300,hideFilter:!0,loadingText:"Loading chart",recoveryText:"Retry",xScaleType:"categorical",xTitle:"Moderation category",yTitle:"Number of images",empty:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No data available"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no data available")),noMatch:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No matching data"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no matching data to display"),r.a.createElement(h.a,null,"Clear filter"))}):r.a.createElement("div",null))},ce=function(){return r.a.createElement(q.a,{header:r.a.createElement(c.a,{variant:"h2",description:"Number of images by moderation top level category"},"Distribution by moderation top level category")},null!==f&&null!==f.by_sub_category_type?r.a.createElement(Z.a,{detailPopoverSize:"large",series:[{title:"True Positive",type:"bar",data:f.by_top_category_type["true-positive"].map(function(e,t){return{x:e.title,y:e.value}}),valueFormatter:function(e){return e.toLocaleString("en-US")}},{title:"False Positive",type:"bar",data:f.by_top_category_type["false-positive"].map(function(e,t){return{x:e.title,y:e.value}}),valueFormatter:function(e){return e.toLocaleString("en-US")}}],xDomain:f.by_top_category.map(function(e){return e.title}),yDomain:[0,Math.max.apply(Math,Object(K.a)(f.by_top_category_type["true-positive"].map(function(e){return e.value}).concat(f.by_top_category_type["false-positive"].map(function(e){return e.value}))))],i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"line chart",xTickFormatter:function(e){return e.toLocaleString("en-US")}},ariaLabel:"Single data series line chart",errorText:"Error loading data.",height:300,hideFilter:!0,loadingText:"Loading chart",recoveryText:"Retry",xScaleType:"categorical",xTitle:"Moderation category",yTitle:"Number of images",empty:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No data available"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no data available")),noMatch:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No matching data"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no matching data to display"),r.a.createElement(h.a,null,"Clear filter"))}):r.a.createElement("div",null))},ue=function(){return r.a.createElement(q.a,{header:r.a.createElement(c.a,{variant:"h2",description:"Number of images in each confidence score bucket"},"Confidence score distribution")},null!==f&&null!==f.by_confidence_type?r.a.createElement(Z.a,{stackedBars:!0,detailPopoverSize:"large",series:[{title:"True Positive",type:"bar",data:f.by_confidence_type["true-positive"].map(function(e,t){return{x:e.title,y:e.value}}),valueFormatter:function(e){return e.toLocaleString("en-US")}},{title:"False Positive",type:"bar",data:f.by_confidence_type["false-positive"].map(function(e,t){return{x:e.title,y:e.value}}),valueFormatter:function(e){return e.toLocaleString("en-US")}}],xDomain:["50","55","60","65","70","75","80","85","90","95"],yDomain:[0,Math.max.apply(Math,Object(K.a)(f.by_confidence_type["true-positive"].map(function(e){return e.value}).concat(f.by_confidence_type["false-positive"].map(function(e){return e.value}))))],i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"line chart",xTickFormatter:function(e){return e+"%"}},ariaLabel:"Single data series line chart",errorText:"Error loading data.",height:300,hideFilter:!0,loadingText:"Loading chart",recoveryText:"Retry",xScaleType:"categorical",xTitle:"Confidence score range",yTitle:"Number of images",empty:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No data available"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no data available")),noMatch:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No matching data"),r.a.createElement(m.a,{variant:"p",color:"inherit"},"There is no matching data to display"),r.a.createElement(h.a,null,"Clear filter"))}):r.a.createElement("div",null))};return r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement("br",null),r.a.createElement(re,null),r.a.createElement("br",null),r.a.createElement(T.a,{columns:2},r.a.createElement(le,null),r.a.createElement(ie,null)),r.a.createElement("br",null),r.a.createElement(ce,null),r.a.createElement("br",null),r.a.createElement(oe,null),r.a.createElement("br",null),r.a.createElement(ue,null))}var ee=a(636),te=a(637),ae=a(641),ne=15;function re(e){var t=e.selectedTask,a=e.onBack,i=Object(n.useState)(t),l=Object(o.a)(i,2),u=l[0],s=(l[1],Object(n.useState)(null)),f=Object(o.a)(s,2),p=f[0],g=f[1],v=Object(n.useState)(null),y=Object(o.a)(v,2),b=y[0],E=y[1],O=Object(n.useState)(null),w=Object(o.a)(O,2),x=w[0],k=w[1],S=r.a.useState(1),j=Object(o.a)(S,2),A=j[0],C=j[1],P=Object(n.useState)(null),D=Object(o.a)(P,2),N=D[0],R=D[1],z=Object(n.useState)(null),W=Object(o.a)(z,2),B=W[0],H=W[1],V=Object(n.useState)(null),Y=Object(o.a)(V,2),J=Y[0],K=Y[1],X=Object(n.useState)(null),Z=Object(o.a)(X,2),$=Z[0],re=Z[1],ie=Object(n.useState)(null),le=Object(o.a)(ie,2),oe=le[0],ce=le[1],ue=Object(n.useState)(null),se=Object(o.a)(ue,2),de=se[0],me=se[1],fe=Object(n.useState)(!1),he=Object(o.a)(fe,2),pe=he[0],ge=he[1],ve=Object(n.useState)(!1),ye=Object(o.a)(ve,2),be=ye[0],Ee=ye[1],Oe=Object(n.useState)(null),we=Object(o.a)(Oe,2),xe=we[0],ke=we[1];function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t&&(t=A),null===e||0===e.length)return[];var a=[];return e.forEach(function(e,n){return n>=(t-1)*ne&&n<t*ne&&a.push(e),a},a),a}function Le(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k("LOADING"),U(e?"/report/images-unflag":"/report/images","post",{id:u.id,top_category:B,sub_category:J,type:$,confidence_threshold:oe}).then(function(e){var t=JSON.parse(e.body);g(t),Pe(t,xe),R(Se(t)),k("LOADED")}).catch(function(e){console.log(e.message),k("LOADED")})}Object(n.useEffect)(function(){if(null===x){var e=new URLSearchParams(window.location.search);Ee(e.get("unflag")),Le(pe)}});var _e=function(e){if(e.detail.id!=B){"-- All --"==e.detail.id?H(null):H(e.detail.id);var t=F[e.detail.id].map(function(e){return{id:e,text:e}});me(t),k(null),C(1)}},je=function(e){console.log(e),e.detail.id!=B&&("-- All --"==e.detail.id?K(null):K(e.detail.id),k(null),C(1))},Te=function(e){e.detail.id!=$&&("-"===e.detail.id?re(null):re(e.detail.id),k(null),C(1))},Ae=function(e){parseInt(e.detail.id)!=oe&&(ce(parseInt(e.detail.id)),k(null),C(1))},Ce=function(e){H(null),K(null),ce(null),re(null),k(null),C(1),ke(null),Ee(!1)},Ie=function(e){C(e.detail.currentPageIndex),R(Se(p,e.detail.currentPageIndex))};function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=xe),null===e&&(e=Object.assign({},p));var a=[];null!==t&&t.length>0?(e.forEach(function(e){return e.file_path.toLowerCase().includes(t.toLowerCase())&&a.push(e),a},a),console.log(a.length),E(a),R(Se(a))):(E(e),R(Se(e)))}var De=function(){return r.a.createElement("div",null,r.a.createElement(T.a,{columns:"1",variant:"text-grid"},r.a.createElement(m.a,{float:"right"},"LOADING"===x?r.a.createElement(I.a,null):r.a.createElement("div",null),"\xa0",r.a.createElement(h.a,{variant:"normal",onClick:Ce,disabled:null===B&&null===J&&null===$&&null===oe&&1==A&&(null===xe||0===xe.length)},"Reset"),"\xa0",r.a.createElement(h.a,{variant:"primary",onClick:a},"Back to list"))),r.a.createElement(T.a,{columns:"1",variant:"text-grid"},r.a.createElement(q.a,{float:"left"},r.a.createElement(Q.a,{onItemClick:_e,items:Object.keys(F).map(function(e){return{id:e,text:e}}),expandableGroups:!0},null===B?"Filter top level category":B),"\xa0",r.a.createElement(Q.a,{onItemClick:je,items:null!==de?de:[],expandableGroups:!0},null===J?"Filter secondary level category":J),"\xa0",r.a.createElement(Q.a,{onItemClick:Te,items:G,expandableGroups:!0},null===$?"Filter by review result":G.find(function(e){return e.id==$}).text),"\xa0",r.a.createElement(Q.a,{onItemClick:Ae,items:M,expandableGroups:!0},null===oe?"Select confidence threshold":M.find(function(e){return e.id==oe}).text),be?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(ee.a,{onChange:function(e){var t=e.detail;ge(t.checked),Le(t.checked)},checked:pe},"Show unflagged images (This is a hidden feature for debugging purposes. The page may time out to display more than 3,000 images.)")):r.a.createElement("div",null))))};return r.a.createElement("div",null,r.a.createElement(De,null),r.a.createElement("br",null),r.a.createElement(te.a,{cardDefinition:{header:function(e){return r.a.createElement(d.a,{fontSize:"heading-m"},null!==e?e.name:"")},sections:[{id:"file_path",header:"File name",content:function(e){return null!==e?r.a.createElement(d.a,{href:e.url,external:"true"}," ",e.file_path.split("/").at(-1)):""}},{id:"top_category",header:"Rekognition labeled category",content:function(e){return null!==e?e.top_category+" / "+e.sub_category:""}},{id:"confidence",header:"Rekognition confidence score",content:function(e){return null!==e?parseFloat(e.confidence).toFixed(2)+"%":""}},{id:"type",header:"Human review result",content:function(e){return null!==e?r.a.createElement(ae.a,{color:"false-positive"===e.type?"red":"green"},e.type):""}},{id:"url",header:"Image",content:function(e){return null!==e?r.a.createElement("img",{src:e.url,width:"100%",height:"auto"}):r.a.createElement("div",null)}}]},cardsPerRow:[{cards:1},{minWidth:230,cards:3}],items:null!==N?N:[],filter:r.a.createElement(L.a,{filteringPlaceholder:"Find images by file name",filteringText:xe,onChange:function(e){ke(e.detail.filteringText.trim()),Pe(p,e.detail.filteringText.trim())}}),loadingText:"Loading images",empty:r.a.createElement(m.a,{textAlign:"center",color:"inherit"},r.a.createElement("b",null,"No images"),r.a.createElement(m.a,{padding:{bottom:"s"},variant:"p",color:"inherit"},"No images to display.")),header:r.a.createElement(c.a,null,"Images flagged by Rekognition as inappropriate (",null===b?0:b.length,")"),pagination:r.a.createElement(_.a,{currentPageIndex:A,onChange:Ie,pagesCount:null!==b?Math.ceil(b.length/ne,0):1,ariaLabels:{nextPageLabel:"Next page",previousPageLabel:"Previous page",pageLabel:function(e){return"Page ".concat(e," of all pages")}}})}),r.a.createElement(m.a,{float:"right"},r.a.createElement(_.a,{currentPageIndex:A,onChange:Ie,pagesCount:null!==b?Math.ceil(b.length/ne,0):1,ariaLabels:{nextPageLabel:"Next page",previousPageLabel:"Previous page",pageLabel:function(e){return"Page ".concat(e," of all pages")}}})))}function ie(){ie=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,a){return e[t]=a}}function u(e,t,a,r){var i=t&&t.prototype instanceof m?t:m,l=Object.create(i.prototype),o=new S(r||[]);return n(l,"_invoke",{value:O(e,a,o)}),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=u;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(L([])));v&&v!==t&&a.call(v,i)&&(p=v);var y=h.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;n(this,"_invoke",{value:function(n,i){function l(){return new t(function(r,l){!function n(r,i,l,o){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,l,o)},function(e){n("throw",e,l,o)}):t.resolve(d).then(function(e){u.value=e,l(u)},function(e){return n("throw",e,l,o)})}o(c.arg)}(n,i,r,l)})}return r=r?r.then(l,l):l()}})}function O(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return _()}for(a.method=r,a.arg=i;;){var l=a.delegate;if(l){var o=w(l,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=h,n(y,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var l=new E(u(t,a,n,r),i);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},b(y),c(y,o,"Generator"),c(y,i,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var le=10;function oe(e){var t=e.user;e.onItemClick,e.onSelectionChange;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t&&(t=l),null===e||0===e.length)return[];var a=[];return e.forEach(function(e,n){return n>=(t-1)*le&&n<t*le&&a.push(e),a},a),a}var r=n.useState(1),i=Object(o.a)(r,2),l=i[0],u=i[1],s=Object(n.useState)([]),p=Object(o.a)(s,2),g=p[0],v=p[1],y=Object(n.useState)([]),b=Object(o.a)(y,2),E=b[0],O=b[1],w=Object(n.useState)(!1),T=Object(o.a)(w,2),A=T[0],C=T[1],I=Object(n.useState)(null),P=Object(o.a)(I,2),D=P[0],N=P[1],R=Object(n.useState)([]),F=Object(o.a)(R,2),G=F[0],M=F[1],z=Object(n.useState)(!1),W=Object(o.a)(z,2),H=W[0],V=W[1],Y=Object(n.useState)(!1),K=Object(o.a)(Y,2),q=K[0],Q=K[1],X=Object(n.useState)(!1),Z=Object(o.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!1),ne=Object(o.a)(ae,2),oe=ne[0],ce=ne[1],ue=Object(n.useState)(!1),se=Object(o.a)(ue,2),de=se[0],me=se[1],fe=Object(n.useState)(null),he=Object(o.a)(fe,2),pe=he[0],ge=he[1];Object(n.useEffect)(function(){0===g.length&&null===pe&&(ge("LOADING"),U("/task/tasks","get").then(function(e){var t=JSON.parse(e.body);v(t),O(a(t)),ge("LOADED")}).catch(function(e){ge("LOADED"),console.log(e.message)}))});var ve=function(e){var t=e.detail.target;M([g.find(function(e){return e.id==t})]),te(!0),V(!1)};function ye(e){return be.apply(this,arguments)}function be(){return(be=Object(x.a)(ie().mark(function e(t){var a;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Q(!1),(a=Object.assign({},G[0])).status="DELETING",M([a]),ge("LOADING"),null!==G&&G.length>0&&U("/task/delete-task","post",{id:G[0].id}).then(function(e){"200"==e.statusCode&&v([]),O([]),ge(null)}).catch(function(e){console.log(e.message)});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ee=function(e){Q(!1)},Oe=function(e){V(!0)},we=function(e){v([]),O([]),M([]),te(!1),ce(!1),me(!1),ge(null)},xe=function(e){void 0!==e.task&&M([e.task]),ce(!0),te(!1)},ke=function(e){void 0!==e.task&&M([e.task]),me(!0),te(!1)};return n.createElement("div",null," ",n.createElement("br",null),ee?n.createElement(B,{selectedTask:G.length>0?G[0]:null,onBack:we,onImageClick:ke,onReportClick:xe}):oe?n.createElement($,{selectedTask:G.length>0?G[0]:null,onBack:we}):de?n.createElement(re,{selectedTask:G.length>0?G[0]:null,onBack:we}):n.createElement(k.a,{loading:"LOADING"===pe,loadingText:"Loading tasks",onSortingChange:function(e){if(0!=g.length){var t=g.map(function(e){return e}),n=e.detail.sortingColumn.sortingField;A?t.reverse(function(e,t){return"total_files"===n?e[n]-t[n]:e[n]<t[n]?-1:e[n]>t[n]?1:void 0}):t.sort(function(e,t){return"total_files"===n?e[n]-t[n]:e[n]<t[n]?-1:e[n]>t[n]?1:void 0}),C(!A),v(t),O(a(t))}},onSelectionChange:function(e){var t=e.detail;M(t.selectedItems)},selectedItems:G,ariaLabels:{selectionGroupLabel:"Items selection",allItemsSelectionLabel:function(e){var t=e.selectedItems;return"".concat(t.length," ").concat(1===t.length?"item":"items"," selected")},itemSelectionLabel:function(e,t){var a=e.selectedItems.filter(function(e){return e.id===t.id}).length;return"".concat(t.id," is ").concat(a?"":"not"," selected")}},columnDefinitions:[{id:"id",sortingField:"name",header:"Task name",cell:function(e){return n.createElement(d.a,{variant:"primary",target:e.id,onFollow:ve},e.name)},minWidth:180},{id:"status",sortingField:"status",header:"Status",cell:function(e){return n.createElement(S.a,{type:"COMPLETED"===e.status?"success":"FAILED"===e.status?"error":"info"},e.status)},minWidth:100},{id:"total_files",sortingField:"total_files",cell:function(e){return parseInt(e.total_files)>0?parseInt(e.total_files).toLocaleString("en-US"):0},header:"Total images",minWidth:100},{id:"created_ts",sortingField:"created_ts",cell:function(e){return e.created_ts},header:"Created at",minWidth:100}],items:E,selectionType:"single",trackBy:"id",empty:n.createElement(m.a,{textAlign:"center",color:"inherit"},n.createElement("b",null,"No evaluation tasks"),n.createElement(m.a,{padding:{bottom:"s"},variant:"p",color:"inherit"},"No task to display."),n.createElement(h.a,{onClick:Oe},"Initiate a task")),filter:n.createElement(L.a,{filteringPlaceholder:"Find tasks",filteringText:D,onChange:function(e){if(N(e.detail.filteringText),null===D||0==D.length)v(g),O(a(g));else if(null!==D){var t=[];g.forEach(function(a){return a.name.toLowerCase().includes(e.detail.filteringText.toLowerCase())&&t.push(a),t},t),O(a(t))}}}),header:n.createElement(c.a,{variant:"awsui-h1-sticky",title:"Accuracy evaluation tasks",actions:n.createElement(f.a,{size:"xs",direction:"horizontal"},n.createElement(h.a,{onClick:xe,disabled:0===G.length||!["HUMAN_REVIEWING","COMPLETED"].includes(G[0].status)},"Check report"),n.createElement(h.a,{onClick:ke,disabled:0===G.length||!["MODERATION_COMPLETED","HUMAN_REVIEWING","COMPLETED"].includes(G[0].status)},"Review images"),n.createElement(h.a,{onClick:function(e){Q(!0)},disabled:0===G.length||"MODERATING"==G[0].status},"Delete task"),n.createElement(h.a,{variant:"primary",onClick:Oe},"Initiate a task"))}),pagination:n.createElement(_.a,{currentPageIndex:l,onChange:function(e){console.log(e),u(e.detail.currentPageIndex),O(a(g,e.detail.currentPageIndex))},pagesCount:null!==g?Math.ceil(g.length/le,0):1,ariaLabels:{nextPageLabel:"Next page",previousPageLabel:"Previous page",pageLabel:function(e){return"Page ".concat(e," of all pages")}}})}),H?n.createElement(J,{user:t,onSubmit:function(e){V(!1),M([e.task]),te(!0)},onDismiss:function(e){V(!1)}}):n.createElement("div",null),q?n.createElement(j.a,{visible:!0,onSubmit:ye,onDismiss:Ee,size:"medium",header:"Delete task",closeAriaLabel:"Close dialog",footer:n.createElement(m.a,{float:"right"},n.createElement(f.a,{direction:"horizontal",size:"xs"},n.createElement(h.a,{variant:"primary",onClick:ye},"Delete"),n.createElement(h.a,{variant:"normal",onClick:Ee},"Cancel")))},"Do you want to delete the task: ",n.createElement("b",null,G[0].name),"? All related resources will be deleted, including the images uploaded to the S3 bucket folder if you have already uploaded images."):n.createElement("div",null))}var ce=a(290),ue=a(280),se=a.n(ue),de=a(281),me=a.n(de),fe=a(642);function he(e){var t=e.onStart,a=Object(n.useState)([]),i=Object(o.a)(a,2),l=i[0];i[1];return r.a.createElement(fe.a,{header:r.a.createElement(f.a,{size:"m"},r.a.createElement(c.a,{variant:"h1",info:r.a.createElement(d.a,null,"Info"),description:"A tool that helps you to evaluate Amazon Rekognition content moderation accuracy using your own data. ",actions:r.a.createElement(h.a,{onClick:t},"Get Started")},"AWS Content Moderation Accuracy Evaluation"),l.length>0?r.a.createElement(u.a,null,"This is a generic alert."):r.a.createElement("div",null))},r.a.createElement(q.a,null,r.a.createElement("img",{src:me.a,alt:"Evaluation work flow",width:"80%"}),r.a.createElement(m.a,{variant:"p"},"The AWS Content Moderation Accuracy Evaluation tool helps you evaluate Amazon Rekognition image moderation's false-positive rate based on your own dataset. For best results, we recommend you use a dataset with 5,000+ images, as fewer images may lead to a skewed result and a biased conclusion.",r.a.createElement("p",null,"To evaluate Content Moderation accuracy:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Initiate a new task and upload your dataset to the Amazon provided S3 bucket folder."),r.a.createElement("li",null,"Start the moderation task once all the images are in place. Rekognition will then start to moderate images one by one."),r.a.createElement("li",null,"Rekognition will label some of your images as inappropriate. You then can review these images using A2I to provide human input: if the image truly has inappropriate information (true-positive) or not (false-positive)."),r.a.createElement("li",null,"The tool will combine Rekognition moderation results and human inputs to produce an accuracy report.")))))}var pe=a(629),ge=Object(s.a)(function(e){var t=e.signOut,a=e.user,r=Object(n.useState)("getstarted"),i=Object(o.a)(r,2),l=i[0],s=i[1],m=Object(n.useState)(!0),h=Object(o.a)(m,2),p=h[0],g=h[1],y=Object(n.useState)("#/getstarted"),b=Object(o.a)(y,2),E=b[0],O=b[1],x=Object(n.useState)([{type:"label",text:"Home",href:"#"},{id:"getstarted",text:"Get Started",href:"#/getstarted"}]),k=Object(o.a)(x,2),S=k[0],L=k[1],_=Object(n.useRef)(),j=Object(n.useState)([]),T=Object(o.a)(j,2),A=(T[0],T[1]);return n.createElement("div",null,n.createElement(ce.a,{identity:{href:"#",title:"AWS Content Moderation",logo:{src:se.a,alt:"AWS"}},utilities:[{type:"menu-dropdown",text:a.username,description:a.email,iconName:"user-profile",onItemClick:t,items:[{type:"button",id:"signout",text:"Sign out"}]}],i18nStrings:{searchIconAriaLabel:"Search",searchDismissIconAriaLabel:"Close search",overflowMenuTriggerText:"More",overflowMenuTitleText:"All",overflowMenuBackIconAriaLabel:"Back",overflowMenuDismissIconAriaLabel:"Close menu"}}),n.createElement(v.a,{headerSelector:"#header",ref:_,contentType:"table",navigationOpen:p,onNavigationChange:function(){g(!p)},navigation:n.createElement(w,{onFollowHandler:function(e){s(e.detail.id),O(e.detail.href),"getstarted"===e.detail.id?L([{type:"label",text:"Home",href:"#"},{id:"dashboard",text:"Dashboard",href:"#/getstarted"}]):L([{type:"label",text:"Home",href:"#"},{id:"dashboard",text:"Evaluation tasks",href:"#/tasks"}]),s(e.detail.id)},selectedItems:["getstarted"],activeHref:E,items:[{type:"link",id:"getstarted",text:"Get Started",href:"#/getstarted"},{type:"link",id:"tasks",text:"Evaluation Tasks",href:"#/tasks"},{type:"divider"},{type:"link",text:"Documentation",external:!0,href:"#/documentation"}]}),breadcrumbs:n.createElement(pe.a,{items:S}),header:n.createElement(f.a,{size:"l"},n.createElement(c.a,{variant:"h1",info:n.createElement(d.a,null,"Info"),description:"AWS AI Content Moderation - Rekognition Accuracy Evaluation."},"AWS Content Moderation"),null!==alert&&alert.length>0?n.createElement(u.a,null,alert):n.createElement("div",null)),content:"tasks"===l?n.createElement(oe,{user:a,onItemClick:function(e){A([])},onSelectionChange:function(e){A(e.selectedItems)}}):n.createElement(he,{onStart:function(e){s("tasks")}})}))}),ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,643)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),i(e),l(e)})};a(62).a.configure({Auth:{identityPoolId:"[[[COGNITO_IDENTITY_POOL_ID]]]",region:"[[[COGNITO_REGION]]]",userPoolId:"[[[COGNITO_USER_POOL_ID]]]",userPoolWebClientId:"[[[COGNITO_USER_POOL_CLIENT_ID]]]"},API:{endpoints:[{name:"CmAccuracyEvalSrv",endpoint:"[[[APIGATEWAY_BASE_URL]]]"}]}}),l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null))),ve()}},[[310,1,2]]]);
//# sourceMappingURL=main.9d4ac6f9.chunk.js.map